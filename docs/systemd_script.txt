[Unit]
Description=Stock Game Data Engine
After=network.target

[Service]
User=opc
WorkingDirectory=/home/opc/stockgame/data_engine
ExecStart=/home/opc/stockgame/venv_new/bin/python /home/opc/stockgame/data_engine/scheduler_rtdb.py
Restart=always
RestartSec=5

[Install]
WantedBy=multi-user.target
(base) [opc@instance-20251209-1527 ~]$ cat /etc/systemd/system/stock.service 
[Unit]
Description=Firebase RTDB Updater Script
After=network.target

[Service]
# VM ì ‘ì† ì‹œ ì‚¬ìš©í•˜ëŠ” ì‚¬ìš©ì ê³„ì •ìœ¼ë¡œ ì„¤ì • (ë³´í†µ opc)
User=opc 
Group=opc
# ìŠ¤í¬ë¦½íŠ¸ê°€ ìœ„ì¹˜í•œ ë””ë ‰í† ë¦¬ì˜ ì ˆëŒ€ ê²½ë¡œ
WorkingDirectory=/opt/stockgame

# ğŸš¨ ì´ ë¶€ë¶„ì„ í™•ì¸ëœ ì ˆëŒ€ ê²½ë¡œë¡œ ìˆ˜ì •í•˜ì„¸ìš”! ğŸš¨
# ì˜ˆì‹œ: Miniconda í™˜ê²½ ê²½ë¡œë¥¼ ì‚¬ìš©í•œ ê²½ìš°
ExecStart=/opt/miniconda3/envs/myenv/bin/python /opt/stockgame/data_engine/scheduler_rtdb.py

# ìŠ¤í¬ë¦½íŠ¸ê°€ ì¢…ë£Œë˜ì—ˆì„ ë•Œ ì¬ì‹œì‘í•˜ë„ë¡ ì„¤ì •
Restart=on-failure
RestartSec=10
StartLimitBurst=5

[Install]
WantedBy=multi-user.target